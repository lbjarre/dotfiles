#!/bin/sh
# fzf-select-git-branch: fzf selector for switching between git branches.

fzf_list() {
    git branch --list --format='%(refname:short)' 
}

fzf_select() {
    fzf --preview='git log --graph {} --color=always'
}

fzf_use() {
    git switch $1
}

main() {
    selection=$(fzf_list | fzf_select) || exit 0
    fzf_use ${selection}
}

main
